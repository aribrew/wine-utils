# DO NOT EDIT THIS FILE


if [[ -f "$HOME/.wine_env_tweaks" ]];
then
    source "$HOME/.wine_env_tweaks"
fi


if [[ "$(which bash_helpers.sh)" == "" ]];
then
    if [[ -f "$HOME/.local/bin/bash_helpers.sh" ]];
    then
        export PATH=$HOME/.local/bin:$PATH
        
    elif [[ -f "/opt/bin/bash_helpers.sh" ]];
    then
        export PATH=/opt/bin:$PATH
        
    else
        echo -e "Could not find bash_helpers.sh\n."
        BASH_HELPERS_NOT_FOUND=1
    fi
fi


if ! [[ -v BASH_HELPERS_NOT_FOUND ]] && ! [[ -v WINE_ENV ]];
then
    if [[ -d "$HOME/.local/bin/winenv" ]];
    then
        export WINE_ENV=$HOME/.local/bin/winenv

        if [[ -v WINENV_DEBUG ]];
        then
            echo "Found a local WINE environment. Using this over global."
        fi
        
    elif [[ -d "/opt/winenv" ]];
    then
        export WINE_ENV=$HOME/.local/bin/winenv

        if [[ -v WINENV_DEBUG ]];
        then
            echo "Found a system-wide WINE environment."
            echo "Using it in absense of a local one."
        fi
    fi

    if [[ -v WINE_ENV ]];
    then
        export PATH=$WINE_ENV:$PATH
        export PATH=$WINE_ENV/cmds:$PATH
        export PATH=$WINE_ENV/cmds/aux:$PATH

        export WINE_PREFIXES=$HOME/.local/share/wineprefixes

        if [[ -f "$WINE_ENV/.autoload_prefix" ]] &&
         ! [[ -v WIN_STARTING_EXEC ]];
        then
            source $(cat "$WINE_ENV/.autoload_prefix")/activate
        fi

        if [[ -f "$WINE_ENV/.autoload_wine" ]] &&
         ! [[ -v WIN_STARTING_EXEC ]];
        then
            source wine_load $(cat "$WINE_ENV/.autoload_wine")
        fi

        echo "Wine environment loaded."
        echo "See $WINE_ENV/cmds for commands."
        echo ""
    fi
fi

